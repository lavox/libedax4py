<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>count_last_flip_plain.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">count_last_flip_plain.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec1331abdccf352907f9f1ba4cc6b001"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="count__last__flip__plain_8c.html#aec1331abdccf352907f9f1ba4cc6b001">last_flip</a> (int pos, unsigned long long <a class="el" href="generate__flip_8c.html#a11481f01e169aee1117c83a352c22222">P</a>)</td></tr>
<tr class="separator:aec1331abdccf352907f9f1ba4cc6b001"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a32e171552afec1a331401c12b7d2bb84"><td class="memItemLeft" align="right" valign="top">static const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="count__last__flip__plain_8c.html#a32e171552afec1a331401c12b7d2bb84">COUNT_FLIP</a> [8][256]</td></tr>
<tr class="separator:a32e171552afec1a331401c12b7d2bb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad233092c32e3e8be497ff3da518135"><td class="memItemLeft" align="right" valign="top">static const unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="count__last__flip__plain_8c.html#a3ad233092c32e3e8be497ff3da518135">mask_d</a> [2][64]</td></tr>
<tr class="separator:a3ad233092c32e3e8be497ff3da518135"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A function is provided to count the number of fipped disc of the last move.</p>
<p>The basic principle is to read into an array a precomputed result. Doing this is easy for a single line ; as we can use arrays of the form:</p><ul>
<li>COUNT_FLIP[square where we play][8-bits disc pattern]. The problem is thus to convert any line of a 64-bits disc pattern into an 8-bits disc pattern. A fast way to do this is to select the right line, with a bit-mask, to gather the masked-bits into a continuous set by a simple multiplication and to right-shift the result to scale it into a number between 0 and 255. Once we get our 8-bits disc patterns, we directly get the number of flipped discs from the precomputed array, and add them from each flipping lines. For optimization purpose, the value returned is twice the number of flipped disc, to facilitate the computation of disc difference.</li>
</ul>
<dl class="section date"><dt>Date</dt><dd>1998 - 2017 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Richard Delorme </dd>
<dd>
Toshihiko Okuhara </dd></dl>
<dl class="section version"><dt>Version</dt><dd>4.4 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aec1331abdccf352907f9f1ba4cc6b001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec1331abdccf352907f9f1ba4cc6b001">&#9670;&nbsp;</a></span>last_flip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int last_flip </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>P</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Count last flipped discs when playing on the last empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the last empty square. </td></tr>
    <tr><td class="paramname">P</td><td>player's disc pattern. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>flipped disc count. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a32e171552afec1a331401c12b7d2bb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e171552afec1a331401c12b7d2bb84">&#9670;&nbsp;</a></span>COUNT_FLIP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char COUNT_FLIP[8][256]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>precomputed count flip array </p>

</div>
</div>
<a id="a3ad233092c32e3e8be497ff3da518135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad233092c32e3e8be497ff3da518135">&#9670;&nbsp;</a></span>mask_d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long long mask_d[2][64]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
